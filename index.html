<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym StopWatch</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

    <style>
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        .font-bebas {
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .line-heigth-75 {
            line-height: .75;
        }

        .bg-fire {
            background-color: #FF3C00;
        }

        .themedark {
            background-color: black !important;
            color: #ffffff !important;
        }

        .thememedium {
            background-color: #a3a3a3 !important;
            color: #dddddd !important;
        }

        .themelight {
            background-color: #e0e0e0 !important;
            color: #333333 !important;
        }
    </style>
</head>

<body class="themedark">

    <div class="container">

        <div class="row">
            <dov class="col-12 d-flex justify-content-between">
                <button class="btn themedark" onclick="changeTheme()">
                    <i class="bi bi-brightness-high-fill d-flex float-left" id="change-theme-icon"></i>
                </button>
                <div>
                    <button class="btn themedark fw-bold" onclick="changeFontSize('-')">
                        <i class="bi bi-chevron-compact-left"></i>
                    </button>
                    <button class="btn themedark fw-bold" onclick="changeFontSize('+')">
                        <i class="bi bi-chevron-compact-right"></i>
                    </button>
                </div>
                <h1 class="font-bebas d-flex float-end" id="counter">00</h1>
            </dov>
        </div>

        <hr>

        <div class="row d-flex align-items-center mt-5">
            <div class="col-12 text-center">
                <span class="font-bebas line-heigth-75" style="font-size: 50dvw;" id="tempoMin">00</span>
                <br>
                <span class="font-bebas line-heigth-75" style="font-size: 50dvw;" id="tempoSec">00</span>
            </div>
            
        </div>

        <div class="row position-fixed bottom-0 w-100 my-4 ">
            <div class="col-12 text-center">
                <button class="btn themedark" style="background-color: #00000000 !important;" onclick="resetTimer()">
                    <i class="bi bi-x-circle" style="font-size: 10dvw;"></i>
                </button>
                <button class="btn mx-5 themedark" style="background-color: #00000000 !important;"
                    onclick="startAndPauseTimer()">
                    <i id="pauseStartIcon" class="bi bi-play-fill" style="font-size: 10vw;"></i>
                </button>
                <button class="btn themedark" style="background-color: #00000000 !important;" onclick="addRecounter()">
                    <i class="bi bi-arrow-counterclockwise" style="font-size: 10dvw;"></i>
                </button>

            </div>
        </div>

        <script>
            let tempo = 0;
            let intervalo;
            let timerStatus = "paused";
            let resetCounter = 0;

            function startAndPauseTimer() {
                if (timerStatus === "paused") {
                    timerStatus = "counting";
                    document.getElementById("pauseStartIcon").className = "bi bi-pause";
                    intervalo = setInterval(() => {
                        tempo++;
                        let minutos = Math.floor(tempo / 60);
                        let segundos = tempo % 60;
                        // document.getElementById("tempo").textContent = `${minutos.toString().padStart(2, '0')}:${segundos.toString().padStart(2, '0')}`;
                        document.getElementById("tempoMin").textContent = `${minutos.toString().padStart(2, '0')}`;
                        document.getElementById("tempoSec").textContent = `.${segundos.toString().padStart(2, '0')}`;
                    }, 1000);
                } else if (timerStatus === "counting") {
                    timerStatus = "paused";
                    document.getElementById("pauseStartIcon").className = "bi bi-play-fill";
                    clearInterval(intervalo);
                }
            }

            function resetTimer() {
                timerStatus = "paused";

                document.getElementById("pauseStartIcon").className = "bi bi-play-fill";

                resetCounter = 0;

                clearInterval(intervalo);

                tempo = 0;

                document.getElementById("counter").textContent = "00";
                document.getElementById("tempoMin").textContent = "00";
                document.getElementById("tempoSec").textContent = "00";
            }

            function addRecounter() {
                let counter = parseInt(document.getElementById('counter').textContent)
                counter++
                document.getElementById('counter').textContent = counter < 10 ? `0${counter}` : counter

                resetCounter++;
                tempo = 0;

                let middleCounter = document.getElementById('middleCounter')

                let row = document.createElement('div')
                row.className = 'row mb-1 fade-in'

                // let colNumber = document.createElement('div')
                // colNumber.className = 'col-3 offset-3 bg-fire'
                // colNumber.textContent = `${resetCounter}`

                // let colTime = document.createElement('div')
                // colTime.className = 'col-3 text-center font-bebas'

                // colTime.textContent = `${document.getElementById('tempoMin').textContent}${document.getElementById('tempoSec').textContent}`

                // middleCounter.appendChild(row)
                // row.appendChild(colNumber)
                // row.appendChild(colTime)

                timerStatus = "counting";
                startAndPauseTimer()
                document.getElementById("tempoMin").textContent = "00";
                document.getElementById("tempoSec").textContent = "00";
            }

            function changeTheme() {
                let themes = ['themedark', 'thememedium', 'themelight']
                let body = document.getElementsByTagName('body')[0]
                let indexBefore = themes.indexOf(body.className)
                let index = indexBefore + 1
                if (index >= themes.length) {
                    index = 0
                };

                body.className = themes[index]
                for (const element of document.getElementsByTagName('button')) {
                    element.classList.remove(themes[indexBefore])
                    element.classList.add(themes[index])
                }

            }

            function changeFontSize(option) {
                if (option == '+') {
                    document.getElementById("tempoMin").style.fontSize = `${parseInt(document.getElementById("tempoMin").style.fontSize) + 10}dvw`
                    document.getElementById("tempoSec").style.fontSize = `${parseInt(document.getElementById("tempoSec").style.fontSize) + 10}dvw`
                } else if (option == '-') {
                    document.getElementById("tempoMin").style.fontSize = `${parseInt(document.getElementById("tempoMin").style.fontSize) - 10}dvw`
                    document.getElementById("tempoSec").style.fontSize = `${parseInt(document.getElementById("tempoSec").style.fontSize) - 10}dvw`
                }
            }

        </script>
</body>

</html>